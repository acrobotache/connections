<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Integrates with the RStudio Connections Pane and pins • connections</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Integrates with the RStudio Connections Pane and pins">
<meta property="og:description" content="Enables DBI compliant packages to integrate with the RStudio connections 
  pane, and the pins package. It automates the display of schemata, tables, views, as well 
  as the preview of the table's top 1000 records. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">connections</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/edgararuiz/connections">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="connections" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#connections" class="anchor"></a>connections</h1></div>
<!-- badges: start -->

<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#functions">Functions</a></li>
<li><a href="#uploading-and-referencing-tables-with-dplyr">Uploading and referencing tables with <code>dplyr</code></a></li>
<li>
<a href="#pins"><code>pins</code></a>
<ul>
<li><a href="#pin-a-connection">Pin a connection</a></li>
<li><a href="#pin-a-dplyr-database-query">Pin a <code>dplyr</code> database query</a></li>
<li><a href="#full-pins-example">Full <code>pins</code> example</a></li>
</ul>
</li>
<li>
<a href="#back-end-examples">Back-end examples</a>
<ul>
<li><a href="#bigquery-via-bigrquery">BigQuery, via <code>bigrquery</code></a></li>
<li><a href="#postgresql-via-rpostgres">PostgreSQL, via <code>RPostgres</code></a></li>
</ul>
</li>
<li><a href="#dbi-connections"><code>DBI</code> connections</a></li>
</ul>
<p>The main goal of <code>connections</code> is to integrate <code>DBI</code>-compliant packages with the RStudio IDE’s <a href="https://db.rstudio.com/rstudio/connections/">Connection Pane</a>. Packages such as <a href="https://github.com/r-dbi/RPostgres">RPostgres</a>, <a href="https://github.com/r-dbi/RSQLite">RSQLite</a>, <a href="https://github.com/r-dbi/RMariaDB">RMariaDB</a> and <a href="https://github.com/r-dbi/bigrquery">bigrquery</a> connect R to those databases, but do not provide a direct integration with the Connections Pane. <code>connections</code> reads the configuration of the connection and creates the integration with RStudio.</p>
<p>A second goal is to provide integration with the <a href="https://rstudio.github.io/pins/">pins</a> package. The <code>connections</code> package allows you to pin database connections and <a href="https://dplyr.tidyverse.org/">dplyr</a> table objects.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># install.packages("remotes")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">remotes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/remotes/man/install_github.html">install_github</a></span>(<span class="st">"edgararuiz/connections"</span>)</a></code></pre></div>
</div>
<div id="functions" class="section level2">
<h2 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h2>
<p>The two main functions added by <code>connections</code> are:</p>
<ul>
<li>
<code><a href="reference/connection_open.html">connection_open()</a></code> - Opens the database connection. Use instead of <code><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect()</a></code>, but use the exact same arguments. It also automatically starts the Connections pane.</li>
<li>
<code><a href="reference/connection_close.html">connection_close()</a></code> - Closes the database connection.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(connections)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(RSQLite)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">con &lt;-<span class="st"> </span><span class="kw"><a href="reference/connection_open.html">connection_open</a></span>(<span class="kw"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html">SQLite</a></span>(), <span class="st">"local.sqlite"</span>)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/connection-1.png" width="400px"><br><!--/html_preserve--></p>
<p>The connection can now be closed by using the appropriate button in the Connections pane, or by using <code><a href="reference/connection_close.html">connection_close()</a></code></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="reference/connection_close.html">connection_close</a></span>(con)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/connection-2.png" width="400px"><br><!--/html_preserve--></p>
<p>The connection code is parsed when connecting to the database, and it is visible once the connection is closed.</p>
</div>
<div id="uploading-and-referencing-tables-with-dplyr" class="section level2">
<h2 class="hasAnchor">
<a href="#uploading-and-referencing-tables-with-dplyr" class="anchor"></a>Uploading and referencing tables with <code>dplyr</code>
</h2>
<p><code>connections</code> integrates with <code>dplyr</code> by supporting the following two functions:</p>
<ul>
<li>
<code>tbl()</code> - To create a pointer to a table or view within the database.</li>
<li>
<code>copy_to()</code> - To copy data from the R session to the database.</li>
</ul>
<p>The version of <code>copy_to()</code> inside <code>connections</code> automatically updates the Connections pane, so the new table automatically shows up.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">con &lt;-<span class="st"> </span><span class="kw"><a href="reference/connection_open.html">connection_open</a></span>(<span class="kw"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html">SQLite</a></span>(), <span class="st">"local.sqlite"</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw">copy_to</span>(con, mtcars, <span class="dt">temporary =</span> <span class="ot">FALSE</span>, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; # Source:   table&lt;mtcars&gt; [?? x 11]</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; # Database: sqlite 3.29.0 [/home/edgar/connections/local.sqlite]</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; # … with more rows</span></a></code></pre></div>
<p>To use an existing table inside the database use <code>tbl()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">db_mtcars &lt;-<span class="st"> </span><span class="kw">tbl</span>(con, <span class="st">"mtcars"</span>)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/pane-1.png" width="400px"><br><!--/html_preserve--></p>
<p>The <code>tbl()</code> function opens the rest of the already available <code>dplyr</code> database integration.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">db_mtcars <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(am) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">avg_mpg =</span> <span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(mpg, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; # Source:   lazy query [?? x 2]</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; # Database: sqlite 3.29.0 [/home/edgar/connections/local.sqlite]</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;      am avg_mpg</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; 1     0    17.1</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; 2     1    24.4</span></a></code></pre></div>
</div>
<div id="pins" class="section level2">
<h2 class="hasAnchor">
<a href="#pins" class="anchor"></a><code>pins</code>
</h2>
<p>The <code>connections</code> package integrates with <code>pins</code>. It enables the ability to save and retrieve connections and queries.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pins)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/pkg/pins/man/board_register_local.html">board_register_local</a></span>(<span class="dt">cache =</span> <span class="st">"~/pins"</span>)</a></code></pre></div>
<div id="pin-a-connection" class="section level3">
<h3 class="hasAnchor">
<a href="#pin-a-connection" class="anchor"></a>Pin a connection</h3>
<p>Use the same <code><a href="https://rdrr.io/pkg/pins/man/pin.html">pin()</a></code> command to save a database connection. Under the hood, <code>connections</code> saves the <strong>necessary information to recreate the connection code, not the actual connection R object</strong>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/pkg/pins/man/pin.html">pin</a></span>(con, <span class="st">"my_conn"</span>, <span class="dt">board =</span> <span class="st">"local"</span>)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/pins-1.png" width="400px"><br><!--/html_preserve--></p>
<p>Use <code><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get()</a></code> to re-open the connection. In effect, <code><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get()</a></code> will replay the exact same code used to initially connect to the database. This means that <code><a href="reference/connection_open.html">connection_open()</a></code> is already called for you, so the Connections pane should automatically start up. Assign the output of <code><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get()</a></code> to a variable, such as <code>con</code>. The variable will work just like any connection variable.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">con &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get</a></span>(<span class="st">"my_conn"</span>, <span class="dt">board =</span> <span class="st">"local"</span>)</a></code></pre></div>
<p>The Connections Pane does not open by default when pulled via a pin. To open it use <code><a href="reference/connection_view.html">connection_view()</a></code></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="reference/connection_view.html">connection_view</a></span>(con)</a></code></pre></div>
<p>The <code>con</code> variable is now a regular database connection variable.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">db_mtcars &lt;-<span class="st"> </span><span class="kw">tbl</span>(con, <span class="st">"mtcars"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(am) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">avg_mpg =</span> <span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(mpg, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb11-4" data-line-number="4"></a>
<a class="sourceLine" id="cb11-5" data-line-number="5">db_mtcars</a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt; # Source:   lazy query [?? x 2]</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; # Database: sqlite 3.29.0 [/home/edgar/connections/local.sqlite]</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt;      am avg_mpg</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; 1     0    17.1</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt; 2     1    24.4</span></a></code></pre></div>
</div>
<div id="pin-a-dplyr-database-query" class="section level3">
<h3 class="hasAnchor">
<a href="#pin-a-dplyr-database-query" class="anchor"></a>Pin a <code>dplyr</code> database query</h3>
<p>When <code>dplyr</code> works with database data, the resulting query is not executed until the data is explicitly collected into R, or when printing the top results to the R Console. The <code>pin</code> records two things:</p>
<ul>
<li>The <code>dplyr</code> R object that contains all of the transformations. <strong>It does not save the actual results</strong>.</li>
<li>The necessary information to recreate the database connection. This is to make sure that the data is being retrieved from the original database connection.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/pkg/pins/man/pin.html">pin</a></span>(db_mtcars, <span class="st">"avg_mpg"</span>, <span class="dt">board =</span> <span class="st">"local"</span>)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/pins-2.png" width="400px"><br><!--/html_preserve--></p>
<p><code><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get()</a></code> will connect to the database, and return the <code>dplyr</code> object. Without assigning it to a variable, the pin will immediately print the results of the database. Those results are being processed at the time <code><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get()</a></code> runs.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get</a></span>(<span class="st">"avg_mpg"</span>, <span class="dt">board =</span> <span class="st">"local"</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">#&gt; # Source:   lazy query [?? x 2]</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt; # Database: sqlite 3.29.0 [/home/edgar/connections/local.sqlite]</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt;      am avg_mpg</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt; 1     0    17.1</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt; 2     1    24.4</span></a></code></pre></div>
</div>
<div id="full-pins-example" class="section level3">
<h3 class="hasAnchor">
<a href="#full-pins-example" class="anchor"></a>Full <code>pins</code> example</h3>
<p>The way <code>pins</code> integrates with databases, via the <code>connections</code> package, allows to open the connection from a pin, and pipe all of the subsequent code into a new pin. Afterwards, that pin can be used to collect or to continue using the <code>dplyr</code> object.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get</a></span>(<span class="st">"my_conn"</span>, <span class="dt">board =</span> <span class="st">"local"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw">tbl</span>(<span class="st">"mtcars"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">avg_mpg =</span> <span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(mpg, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/pins/man/pin.html">pin</a></span>(<span class="st">"cyl_mpg"</span>, <span class="dt">board =</span> <span class="st">"local"</span>)</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="kw"><a href="https://rdrr.io/pkg/pins/man/pin_get.html">pin_get</a></span>(<span class="st">"cyl_mpg"</span>, <span class="dt">board =</span> <span class="st">"local"</span>)</a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt; # Source:   lazy query [?? x 2]</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt; # Database: sqlite 3.29.0 [/home/edgar/connections/local.sqlite]</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt;     cyl avg_mpg</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt; 1     4    26.7</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt; 2     6    19.7</span></a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="co">#&gt; 3     8    15.1</span></a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/pins-3.png" width="400px"><br><!--/html_preserve--></p>
</div>
</div>
<div id="back-end-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#back-end-examples" class="anchor"></a>Back-end examples</h2>
<p>There are a couple of examples of how the Connections pane will look when opening the connection via <code>connections</code>.</p>
<div id="bigquery-via-bigrquery" class="section level3">
<h3 class="hasAnchor">
<a href="#bigquery-via-bigrquery" class="anchor"></a>BigQuery, via <code>bigrquery</code>
</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(connections)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(bigrquery)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"></a>
<a class="sourceLine" id="cb15-4" data-line-number="4">con &lt;-<span class="st"> </span><span class="kw"><a href="reference/connection_open.html">connection_open</a></span>(</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">  <span class="kw"><a href="https://rdrr.io/pkg/bigrquery/man/bigquery.html">bigquery</a></span>(),</a>
<a class="sourceLine" id="cb15-6" data-line-number="6">  <span class="dt">project =</span> <span class="st">"bigquery-public-data"</span>,</a>
<a class="sourceLine" id="cb15-7" data-line-number="7">  <span class="dt">dataset =</span> <span class="st">"austin_311"</span>,</a>
<a class="sourceLine" id="cb15-8" data-line-number="8">  <span class="dt">billing =</span> <span class="st">"my_project_billing"</span>,</a>
<a class="sourceLine" id="cb15-9" data-line-number="9">  <span class="dt">use_legacy_sql =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10">)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/bigquery-1.png" width="400px"><br><!--/html_preserve--></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="reference/connection_close.html">connection_close</a></span>(con)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/bigquery-2.png" width="400px"><br><!--/html_preserve--></p>
</div>
<div id="postgresql-via-rpostgres" class="section level3">
<h3 class="hasAnchor">
<a href="#postgresql-via-rpostgres" class="anchor"></a>PostgreSQL, via <code>RPostgres</code>
</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(connections)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(RPostgres)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">con &lt;-<span class="st"> </span><span class="kw"><a href="reference/connection_open.html">connection_open</a></span>(<span class="kw"><a href="https://rpostgres.r-dbi.org/reference/Postgres.html">Postgres</a></span>(), </a>
<a class="sourceLine" id="cb17-4" data-line-number="4">                       <span class="dt">host =</span> <span class="st">"localhost"</span>, </a>
<a class="sourceLine" id="cb17-5" data-line-number="5">                       <span class="dt">dbname =</span> <span class="st">"datawarehouse"</span>,</a>
<a class="sourceLine" id="cb17-6" data-line-number="6">                       <span class="dt">user =</span> <span class="st">"[user id]"</span>, </a>
<a class="sourceLine" id="cb17-7" data-line-number="7">                       <span class="dt">password =</span> <span class="st">"[password]"</span>, </a>
<a class="sourceLine" id="cb17-8" data-line-number="8">                       <span class="dt">bigint =</span> <span class="st">"integer"</span>,</a>
<a class="sourceLine" id="cb17-9" data-line-number="9">                       <span class="dt">port =</span> <span class="st">"5432"</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10">                       )</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/postgres-1.png" width="400px"><br><!--/html_preserve--></p>
</div>
</div>
<div id="dbi-connections" class="section level2">
<h2 class="hasAnchor">
<a href="#dbi-connections" class="anchor"></a><code>DBI</code> connections</h2>
<p>It is possible to integrate <code>DBI</code> connections not opened via <code><a href="reference/connection_open.html">connection_open()</a></code>. To do that, use <code><a href="reference/connection_view.html">connection_view()</a></code> and pass it the variable containing the existing database connection.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(DBI)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"></a>
<a class="sourceLine" id="cb18-3" data-line-number="3">con &lt;-<span class="st"> </span><span class="kw"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span>(RSQLite<span class="op">::</span><span class="kw"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html">SQLite</a></span>(), <span class="st">":memory:"</span>)</a>
<a class="sourceLine" id="cb18-4" data-line-number="4"></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="kw"><a href="reference/connection_view.html">connection_view</a></span>(con)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/dbi-1.png" width="200px"><br><!--/html_preserve--></p>
<p>Changes to the database will not automatically load in the Connections pane. The <code><a href="reference/connection_update.html">connection_update()</a></code> function will refresh the pane with the latest.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw"><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html">dbWriteTable</a></span>(con, <span class="st">"mtcars"</span>, mtcars)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="kw"><a href="reference/connection_update.html">connection_update</a></span>(con)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/dbi-2.png" width="300px"><br><!--/html_preserve--></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw"><a href="reference/connection_close.html">connection_close</a></span>(con)</a></code></pre></div>
<!--html_preserve-->
<p><img src="reference/figures/dbi-3.png" width="300px"><br><!--/html_preserve--></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=connections">https://​cloud.r-project.org/​package=connections</a>
</li>
<li>Browse source code at <br><a href="https://github.com/edgararuiz/connections">https://​github.com/​edgararuiz/​connections</a>
</li>
<li>Report a bug at <br><a href="https://github.com/edgararuiz/connections/issues">https://​github.com/​edgararuiz/​connections/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Javier Luraschi <br><small class="roles"> Author, maintainer </small>  </li>
<li>Edgar Ruiz <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://travis-ci.com/edgararuiz/connections"><img src="https://travis-ci.com/edgararuiz/connections.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/gh/edgararuiz/connections?branch=master"><img src="https://codecov.io/gh/edgararuiz/connections/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Javier Luraschi, Edgar Ruiz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
