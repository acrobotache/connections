---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# connections

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
<!-- badges: end -->

Provides a generic implementation of the [RStudio Connection Contract](https://rstudio.github.io/rstudio-extensions/connections-contract.html) to make it easier for database connections, and other type of connections, opened via R packages to take advantage of the Connections Pane inside the RStudio IDE.

## Installation

Install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("remotes")
remotes::install_github("edgararuiz/connections")
```
## Example

```{r}
library(DBI)
library(connections)

con1 <- dbConnect(RSQLite::SQLite(), path = ":dbname:")
dbWriteTable(con1, "mtcars", mtcars)
connection_view(con1)
```


```{r, eval = FALSE}
library(DBI)
library(connections)
## Wraps DBI::dbConnect() & starts pane
con1 <- connection_open(RSQLite::SQLite(), path = ":dbname:")
## 'connections' method automates the update of the pane
dbWriteTable(con1, "mtcars", mtcars)
```


<img src="man/figures/sqlite-screenshot.png" align="center" width="500" />

<br/>

```{r, eval = FALSE}
# Closes connection and pane
connection_close(con1)
```

```{r, eval = FALSE, echo = FALSE}
library(DBI)
library(connections)
library(RPostgres)
con2 <- connection_open(
  Postgres(),
  host="localhost", dbname = "datawarehouse", 
  user="dbadmin", password="dbadmin",
  bigint = "integer", port="5432"
)
#connection_close(con2)
```

```{r, eval = FALSE, echo = FALSE}
library(DBI)
library(connections)
library(RPostgres)
con2 <- dbConnect(
  Postgres(),
  host="localhost", dbname = "datawarehouse", 
  user="dbadmin", password="dbadmin",
  bigint = "integer", port="5432"
)
connection_view(con2)
```
